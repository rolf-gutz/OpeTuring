<title>Detalhes do Pedido</title>

{% extends "layout.html" %}

{% block rolf %}
<div class="container" style="height: 85%; width: 100%;">
	<h2 id="titulo-pags">Editar Pedido</h2>
	<form class="ml-3" action="/saveEditarPedido" method="POST" name="form_insercao" class="ml-3">
		<input type="hidden" name="IdPedido" value="{{pedido.numeroPedido}}">
		<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
			<tr>
				<th class="th-sm">Nome da Empresa</th>
				<th class="th-sm">Número Pedido</th>
				<th class="th-sm">Data do Pedido</th>
			</tr>
			<tr>
				<td nowrap="true" disable="true">{{pedido['razaoSocial']}}</td>
				<td nowrap="true" disable="true">{{pedido['numeroPedido']}}</td>
				<td nowrap="true" disable="true">{{pedido['DatadoPedido']}}</td>
			</tr>
			<tr>
				<th class="th-sm">Nota Fiscal</th>
				<th class="th-sm">Prazo de Pagamento</th>
				<th class="th-sm">Status de Pagamento</th>
			</tr>
			<tr>
				<td nowrap="true" disable="true">
					<input type="text" value="{{pedido['NotaFiscal']}}" name="NotaFiscal" class="form-control">
				</td>
				<td nowrap="true" disable="true">
					<input type="text" value="{{pedido['prazoPagamento']}}" name="prazoPagamento" class="form-control">
				</td>
				<td nowrap="true" disable="true">
					{% if pedido['statusPagamento'] == "Cancelado" %}
					<select disabled="true" name="status" id="status" class="form-control">
						<option value="2">Cancelado</option>
					</select>
					{% else:%}
					<select name="status" id="status" class="form-control">
						<option value="0">Em Aberto</option>
						<option value="1">Pago</option>
						<option value="2">Cancelado</option>
						{% endif %}
					</select>
				</td>

			</tr>

			<th colspan="3">Observação </th>
			<tr>
				<td colspan="3">
					<input type="text" value="{{pedido['observacao']}}" name="observacao" class="form-control">
				</td>
			</tr>
			<tr>
				<th class="th-sm">Nome Produto</th>
				<th class="th-sm">Quantidade em Quilos</th>
				<th class="th-sm">Valor por Produto</th>
			</tr>
			{% set qtdProdutos = pedido['produtos'] |length %}
			{% for index in range(qtdProdutos) %}
			<tr>
				<td nowrap="true" disable="true"> {{pedido['produtos'][index]['nome']}} </td>
				<td nowrap="true" disable="true"> {{pedido['produtos'][index]['quantidade']}}</td>
				<td nowrap="true" disable="true"> {{pedido['produtos'][index]['produtoValor']}} </td>
			</tr>
			{% endfor %}
		</table>
		<a href="/gerenciarPedidos/1" class="btn btn-secondary" role="button">Cancelar</a>
		{% if not pedido['statusPagamento'] == "Cancelado" %}
		<button type="submit" class="btn btn-success">Editar</button>
		{% endif %}
	</form>
</div>


{% endblock %}